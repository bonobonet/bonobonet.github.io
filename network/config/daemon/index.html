<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://bnet.eu.org/network/config/daemon/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    
    <title>Daemon - BonoboNET</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../../css/base.min.css" rel="stylesheet">
    <link href="../../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    
    <link href="../../../css/print-site-enum-headings1.css" rel="stylesheet">
    <link href="../../../css/print-site-enum-headings2.css" rel="stylesheet">
    <link href="../../../css/print-site-enum-headings3.css" rel="stylesheet">
    <link href="../../../css/print-site-enum-headings4.css" rel="stylesheet">
    <link href="../../../css/print-site-enum-headings5.css" rel="stylesheet">
    <link href="../../../css/print-site-enum-headings6.css" rel="stylesheet">
    <link href="../../../css/print-site.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../../..">BonoboNET</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../rules/">Rules</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../servers/">Servers</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Usage <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../botty/">Botty</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../blog/">Blog</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Network <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../join/">Join</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Configuration</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../peering/">Peering</a>
</li>

        
            
<li >
    <a href="../credentials/">Credentials</a>
</li>

        
            
<li class="active">
    <a href="./">Daemon</a>
</li>

        
            
<li >
    <a href="../monitoring/">Monitoring</a>
</li>

        
            
<li >
    <a href="../motd/">Motd</a>
</li>

        
            
<li >
    <a href="../linking/">Linking</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../links/">Links</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">OpenBNET</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../openbnet/">Openbnet</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Culture <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../culture/">Culture</a>
</li>

                        
                            
<li >
    <a href="../../../gallery/">Gallery</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../credentials/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../monitoring/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#configuration">Configuration</a></li>
            <li class="second-level"><a href="#default-modules">Default modules</a></li>
                
            <li class="second-level"><a href="#cloaking-module">Cloaking module</a></li>
                
            <li class="second-level"><a href="#remote-inclusion">Remote inclusion</a></li>
                
            <li class="second-level"><a href="#server-information">Server information</a></li>
                
            <li class="second-level"><a href="#classes">Classes</a></li>
                
            <li class="second-level"><a href="#operator-information">Operator information</a></li>
                
            <li class="second-level"><a href="#listening-configuration">Listening configuration</a></li>
                
                <li class="third-level"><a href="#clients">Clients</a></li>
                <li class="third-level"><a href="#servers">Servers</a></li>
            <li class="second-level"><a href="#services-configuration">Services configuration</a></li>
                
            <li class="second-level"><a href="#server-parametrs">Server parametrs</a></li>
                
                <li class="third-level"><a href="#k-line-address">k-line address</a></li>
                <li class="third-level"><a href="#unchanging-parameters">Unchanging parameters</a></li>
                <li class="third-level"><a href="#spam-protection">Spam protection</a></li>
                <li class="third-level"><a href="#restrictions">Restrictions</a></li>
                <li class="third-level"><a href="#connection-throttling">Connection throttling</a></li>
                <li class="third-level"><a href="#maximum-channels">Maximum channels</a></li>
                <li class="third-level"><a href="#yolo">yolo</a></li>
                <li class="third-level"><a href="#logging">Logging</a></li>
                <li class="third-level"><a href="#links">Links</a></li>
            <li class="second-level"><a href="#network-configuration">Network configuration</a></li>
                
            <li class="second-level"><a href="#cloak-keys">Cloak keys</a></li>
                
            <li class="second-level"><a href="#nickname-restrictions">Nickname restrictions</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="configuration">Configuration</h1>
<p>This will provide you the steps in configuring your <em>unrealircd</em> server to be able
to link into the BonoboNET IRC network.</p>
<p>After building unrealircd you should have a sub-directory named <code>conf/</code>, you should
create a new blank file named <code>unrealircd.conf</code> within it. If a file with such name
already exists then you will need to delete it and create an empty one form scratch.</p>
<p>You are to add the following lines of code in the order that they appear in this tutorial.</p>
<h2 id="default-modules">Default modules</h2>
<p>There should be some configuration files created for you by the build process, and
they should be included by pasting the following into your config:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>/* Load modules */
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>include &quot;modules.default.conf&quot;;
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>include &quot;modules.optional.conf&quot;;
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>include &quot;snomasks.default.conf&quot;;
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>include &quot;operclass.default.conf&quot;;
</code></pre></div>
<h2 id="cloaking-module">Cloaking module</h2>
<p>A cloaking module needs to be loaded, I have decided to use the
<code>cloak_md5</code> module, which can be loaded by placing this directive
in your config file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>/* Need to use _some_ cloaking module */
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>loadmodule &quot;cloak_md5&quot;;
</code></pre></div>
<h2 id="remote-inclusion">Remote inclusion</h2>
<p>This section <em>used to</em> be applicable but we no longer do remote inclusion anumore
and prefer having the server administrators have their configuration files all
based locally.</p>
<h2 id="server-information">Server information</h2>
<p>You will now personalize the settings of this server by setting the <em>name</em> of your
server to the one you chose in the e-mail. Along with this a custom <strong>short</strong> description
of your server, followed by the <code>sid</code> you were sent in the e-mail.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>/* IRC node information */
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>me
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>{
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    name &quot;&lt;server name&gt;.bnet&quot;;
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    info &quot;&lt;short description&gt;&quot;;
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    sid &lt;sid&gt;;
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>}
</code></pre></div>
<p>Following this we will want to add some contact information for your server which will
allow a user of your server to find contact information for your server.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>/* Administrator contact information */
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>admin
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>{
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    &quot;&lt;full name&gt;&quot;;
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    &quot;&lt;screen name&gt;&quot;;
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    &quot;&lt;email address&gt;&quot;;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>}
</code></pre></div>
<h2 id="classes">Classes</h2>
<p>We need to define some classes which are effectively names used to refer to a bunch
of settings pertaining to connection management in terms of queueing. We shall define
these for:</p>
<ol>
<li><code>clients</code><ul>
<li>Affects ordinary clients</li>
</ul>
</li>
<li><code>opers</code><ul>
<li>Affects those logged in as oper</li>
</ul>
</li>
<li><code>servers</code><ul>
<li>Affects communication for server-to-server (S2S) links</li>
</ul>
</li>
</ol>
<p>These are defined in order below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>/* Client class */
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>class clients
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>{
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    pingfreq 90;
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    maxclients 1000;
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    sendq 200k;
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    recvq 8000;
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>};
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>/* Oper class */
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>class opers
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>{
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    pingfreq 90;
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    maxclients 50;
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    sendq 1M;
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    recvq 8000;
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>};
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>/* Server class */
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>class servers
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>{
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>    pingfreq 60;
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>    connfreq 30;
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>    maxclients 100;
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>    sendq 20M;
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>};
</code></pre></div>
<h2 id="operator-information">Operator information</h2>
<p>Since this is <em>your</em> server you will be able to configure an operator account that
can only be used to gained privileged control over <em>your</em> server. You should set
the nickname for your operator user and put that in <code>&lt;username&gt;</code>. Also, set a strong
password that will be used for gaining access to operator status.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>/*
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>* Operator information
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>*/
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>oper &lt;username&gt;
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>{
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    class opers;
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    mask *@*;
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    password &quot;&lt;operator password&gt;&quot;;
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    operclass netadmin;
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    swhois &quot;is a Network Administrator&quot;;
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    vhost administrator.bnet;
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>}
</code></pre></div>
<ol>
<li>It is important you keep the <code>vhost</code> set as <code>administrator.bnet</code></li>
</ol>
<h2 id="listening-configuration">Listening configuration</h2>
<p>We now need to configure what ports your server will listen on.</p>
<h3 id="clients">Clients</h3>
<p>For client connections we will let the server bind to all addresses
and listen on port <code>6667</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>/* Client (plaintext) */
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>listen
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>{
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    ip *;
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>    port 6667;
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>}
</code></pre></div>
<p>We will also have a socket listen on <code>6697</code> which has TLS enabled on
it such that users can connect ina  secure manner if they so choose to:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>/* Client (TLS) */
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>listen
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>{
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    ip *;
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    port 6697;
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    options { tls; }
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>}
</code></pre></div>
<p>Lastly we need to create an <code>allow {}</code> block. With listeners setup a socket
is bound which will accept connections at a network transport protocol level
however once connected we can decide whether to let someone proceed with
sending us IRC commands, allow blocks control this. We want to let any
user in from any IP (hence the <code>*@*</code>), we want it to apply rules from the
<code>clients</code> class defined earlier and only allow a maximum of a <code>100</code> connections
from the same IP:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>/*
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>* Allow blocks
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>*/
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>allow
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>{
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    ip *@*;
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>    class clients;
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>    maxperip 100;
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>}
</code></pre></div>
<h3 id="servers">Servers</h3>
<p>The servers need to be able to link to each other and they do so over TLS,
so add the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>/* Server (TLS) */
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>listen
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>{
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    ip *;
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    port 6900;
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    options { tls; serversonly; }
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>}
</code></pre></div>
<h2 id="services-configuration">Services configuration</h2>
<p>There are some restraints we need to include some configuration to allow
a certain server, namely <code>services.bnet</code>, to be able to have special rights
seeing as it provides IRC services to the whole network. We also add another
rules banning the use of nicknames that are used for services.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>/* Give special rights to the IRC services */
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>ulines
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>{
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    services.bnet;
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>}
</code></pre></div>
<p>TODO: the above should be added into remote config?</p>
<h2 id="server-parametrs">Server parametrs</h2>
<p>There are some parameters that are specific to your server which are required to be set, these are shown below:</p>
<h3 id="k-line-address">k-line address</h3>
<p>The <em>k-line address</em> is the e-mail address a user should use in order to get in contact with the admin of a server regarding a k-line they received on said server. This is set as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>/* k-line address */
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>set
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>{
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    kline-address &quot;&lt;admin email address&gt;&quot;;
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>}
</code></pre></div>
<ol>
<li>Set the <code>&lt;admin email address&gt;</code> here to the same one you used in the <code>admin {}</code> block earlier</li>
</ol>
<h3 id="unchanging-parameters">Unchanging parameters</h3>
<p>The following settings should be set as is. They control the modes a user will have set in certain scenarios, what
modes a channel will have when created also which channel operators (such as you) should join to.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>/* Modes and oper auto-join */
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>set
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>{
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    modes-on-connect &quot;+ixw&quot;;
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    modes-on-oper &quot;+xws&quot;;
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    modes-on-join &quot;+nt&quot;;
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    oper-auto-join &quot;#opers&quot;;
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>    options
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>    {
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>        hide-ulines;
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>        show-connect-info;
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>    }
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>}
</code></pre></div>
<h3 id="spam-protection">Spam protection</h3>
<p>The following settings relate to controlling potential spam-like activity on your server.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>set
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>{
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    /* Minimum connection time before valid use of `/QUIT` */
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    anti-spam-quit-message-time 10s;
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    /* Settings for spam filter */
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    spamfilter
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    {
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>        ban-time 1d; /* default duration of a *LINE ban set by spamfilter */
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>        ban-reason &quot;Spam/Advertising&quot;; /* default reason */
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>        virus-help-channel &quot;#help&quot;; /* channel to use for &#39;viruschan&#39; action */
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>        /* except &quot;#help&quot;; channel to exempt from Spamfilter */
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>    }
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>}
</code></pre></div>
<ol>
<li>The first option is <code>anti-spam-quit-message-time</code><ul>
<li>This is to be set to the number of seconds that someone must be connected before using the <code>/quit</code> command</li>
<li>If the user uses the command below the bound then it is considered spammy and they will be marked as spammy users</li>
<li>We recommend the default of <code>10s</code> (10 seconds)</li>
</ul>
</li>
<li>The <code>spamfilter</code> block includes some more in-depth parameters relating to spam<ul>
<li>We normally don't change any of the settings here and leave them as is</li>
</ul>
</li>
</ol>
<h3 id="restrictions">Restrictions</h3>
<p>One can configure the restriction of commands in a time-based manner using tje <code>restrict-commands</code> option as shown below.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>set
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>{
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    restrict-commands
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    {
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>        list
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        {
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>            connect-delay 60;
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>            exempt-identified yes;
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>            exempt-reputation-score 24;
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>        }
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>        invite
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>        {
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>            connect-delay 120;
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>            exempt-identified yes;
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>            exempt-reputation-score 24;
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>        }
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>    }
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>}
</code></pre></div>
<p>We normally leave these settings as is.</p>
<h3 id="connection-throttling">Connection throttling</h3>
<p>One can configure the throttling of connections with the <code>connthrottle</code> option as shown below.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>set
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>{
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    connthrottle
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    {
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>        known-users
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>        {
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>            minimum-reputation-score 24;
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>            sasl-bypass yes;
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>        }
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>        disabled-when
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>        {
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>            reputation-gathering 1w;
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>            start-delay 3m;
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>        }
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>    }
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>}
</code></pre></div>
<p>We normally leave these settings as is.</p>
<h3 id="maximum-channels">Maximum channels</h3>
<p>You can configure how many channels a single user may be a member of with this parameter:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>/* Maximum number of channels a user can be a member of */
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>set
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>{
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    maxchannelsperuser &lt;number&gt;;
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>}
</code></pre></div>
<ol>
<li>Set <code>&lt;number&gt;</code> to a positive number<ul>
<li>It is recommended you make this reasonably large enough; nobody wants to join a server where they cannot maintain multiple channel memberships</li>
<li><code>100</code> is a good number</li>
</ul>
</li>
</ol>
<h3 id="yolo">yolo</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>/*
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>* Misc.
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>*/
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>drpass
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>{
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>    restart &quot;restart&quot;;
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>    die &quot;die&quot;;
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>}
</code></pre></div>
<p>TODO: Do this</p>
<h3 id="logging">Logging</h3>
<p>One can configure where logs are to be sent to along with the verbosity of said logs:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>log
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>{
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    source
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    {
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>        all;
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>        !debug;
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    }
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    destination
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>    {
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>        syslog;
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>    }
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>}
</code></pre></div>
<ol>
<li>The <code>source</code> block defines the filter for logs<ul>
<li>We recommend logging <code>all</code> - everything but excluding debugging prints (hence the <code>!debug</code>)</li>
</ul>
</li>
<li>We almost always suggest have the <code>destination</code> be <code>syslog</code> as that is where one is most likely to look in the event of any errors</li>
</ol>
<h3 id="links">Links</h3>
<p>The last thing you will place in your configuration file is an inclusion for a new file that will be created when you move onto the <a href="/linking/">Linking</a> section, therefore add the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>/* Links */
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>include &quot;links.conf&quot;;
</code></pre></div>
<h2 id="network-configuration">Network configuration</h2>
<p>This section configures the server's network information:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>set
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>{
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    network-name            &quot;BonoboNET&quot;;
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    default-server          &quot;rany.bnet&quot;;
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    services-server         &quot;services.bnet&quot;;
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>    sasl-server             &quot;services.bnet&quot;;
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    stats-server            &quot;stats.example.org&quot;;
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>    help-channel            &quot;#help&quot;;
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>    hiddenhost-prefix       &quot;cloaked&quot;;
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>    prefix-quit             &quot;Quit&quot;;
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>}
</code></pre></div>
<p>There is nothing here which you should change.</p>
<h2 id="cloak-keys">Cloak keys</h2>
<p>The cloak keys are required to be the same on all server's participating in the BonoboNET IRC network:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>set
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>{
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    cloak-keys
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>    {
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>        &quot;&lt;key1&gt;&quot;;
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>        &quot;&lt;key2&gt;&quot;;
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>        &quot;&lt;key3&gt;&quot;;
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>    }
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>}
</code></pre></div>
<ol>
<li>You must fill in the keys <code>&lt;key1&gt;</code>, <code>&lt;key2&gt;</code> and <code>&lt;key3&gt;</code><ul>
<li>You can get these keys once you have applied for a server link by following the <a href="/network/join">prior steps</a></li>
</ul>
</li>
</ol>
<h2 id="nickname-restrictions">Nickname restrictions</h2>
<p>Taking into account the fact that BonoboNET is an IRC network that uses IRC services there are some names which should not be available as nicknames for the average user as they are indicative of IRC services, this section places a restriction such that nobody can <code>/nick</code> as any of these.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>/* Don&#39;t allow ChanServ to be used */
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>ban nick
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>{
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    mask &quot;*C*h*a*n*S*e*r*v*&quot;;
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    reason &quot;Reserved for Services&quot;;
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>}
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>/* Don&#39;t allow NickServ to be used */
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>ban nick
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>{
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>    mask &quot;*N*i*c*k*S*e*r*v*&quot;;
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>    reason &quot;Reserved for Services&quot;;
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>}
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>/* Don&#39;t allow HostServ to be used */
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>ban nick
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>{
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>    mask &quot;*H*o*s*t*S*e*r*v*&quot;;
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>    reason &quot;Reserved for Services&quot;;
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a>}
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a>
<a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a>/* Don&#39;t allow MemoServ to be used */
<a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a>ban nick
<a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a>{
<a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a>    mask &quot;*M*e*m*o*S*e*r*v*&quot;;
<a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a>    reason &quot;Reserved for Services&quot;;
<a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a>}
</code></pre></div>
<hr />
<p>You should next check out how one can setup monitoring of the node itself with <a href="../monitoring/">OpenBNET monitoring</a></p></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          <br>
            <small>Revised on: 2025-12-02</small>
          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../../.."</script>
    
    <script src="../../../js/base.js"></script>
    <script src="../../../js/print-site.js"></script>
    <script src="../../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
